import{r as l,_ as y,R as t,b as v,c as g,P as n,u as ee,Q as K}from"./index-DQXswQPt.js";import{T as ne,w as oe}from"./DefaultLayout-ei7h0Yif.js";var k=l.forwardRef(function(e,i){var r=e.children,d=e.className,a=y(e,["children","className"]);return t.createElement("div",v({className:g("modal-content",d)},a,{ref:i}),r)});k.propTypes={children:n.node,className:n.string};k.displayName="CModalContent";var x=l.forwardRef(function(e,i){var r,d=e.children,a=e.alignment,c=e.className,u=e.fullscreen,b=e.scrollable,m=e.size,f=y(e,["children","alignment","className","fullscreen","scrollable","size"]);return t.createElement("div",v({className:g("modal-dialog",(r={"modal-dialog-centered":a==="center"},r[typeof u=="boolean"?"modal-fullscreen":"modal-fullscreen-".concat(u,"-down")]=u,r["modal-dialog-scrollable"]=b,r["modal-".concat(m)]=m,r),c)},f,{ref:i}),d)});x.propTypes={alignment:n.oneOf(["top","center"]),children:n.node,className:n.string,fullscreen:n.oneOfType([n.bool,n.oneOf(["sm","md","lg","xl","xxl"])]),scrollable:n.bool,size:n.oneOf(["sm","lg","xl"])};x.displayName="CModalDialog";var le=l.createContext({}),Q=l.forwardRef(function(e,i){var r=e.children,d=e.alignment,a=e.backdrop,c=a===void 0?!0:a,u=e.className,b=e.container,m=e.duration,f=m===void 0?150:m,w=e.focus,A=w===void 0?!0:w,G=e.fullscreen,O=e.keyboard,H=O===void 0?!0:O,C=e.onClose,R=e.onClosePrevented,J=e.onShow,P=e.portal,T=P===void 0?!0:P,U=e.scrollable,W=e.size,z=e.transition,h=z===void 0?!0:z,L=e.unmountOnClose,X=L===void 0?!0:L,E=e.visible,Y=y(e,["children","alignment","backdrop","className","container","duration","focus","fullscreen","keyboard","onClose","onClosePrevented","onShow","portal","scrollable","size","transition","unmountOnClose","visible"]),M=l.useRef(null),p=l.useRef(null),Z=l.useRef(null),$=ee(i,p),S=l.useState(E),s=S[0],N=S[1],D=l.useState(!1),F=D[0],B=D[1],_={visible:s,setVisible:N};l.useEffect(function(){N(E)},[E]),l.useEffect(function(){var o;return s?(M.current=document.activeElement,document.addEventListener("mouseup",j),document.addEventListener("keydown",I)):(o=M.current)===null||o===void 0||o.focus(),function(){document.removeEventListener("mouseup",j),document.removeEventListener("keydown",I)}},[s]);var V=function(){return c==="static"?B(!0):(N(!1),C&&C())};l.useLayoutEffect(function(){R&&R(),setTimeout(function(){return B(!1)},f)},[F]),l.useLayoutEffect(function(){return s?(document.body.classList.add("modal-open"),c&&(document.body.style.overflow="hidden",document.body.style.paddingRight="0px"),setTimeout(function(){var o;A&&((o=p.current)===null||o===void 0||o.focus())},h?f:0)):(document.body.classList.remove("modal-open"),c&&(document.body.style.removeProperty("overflow"),document.body.style.removeProperty("padding-right"))),function(){document.body.classList.remove("modal-open"),c&&(document.body.style.removeProperty("overflow"),document.body.style.removeProperty("padding-right"))}},[s]);var j=function(o){p.current&&p.current==o.target&&V()},I=function(o){o.key==="Escape"&&H&&V()};return t.createElement(t.Fragment,null,t.createElement(ne,{in:s,mountOnEnter:!0,nodeRef:p,onEnter:J,onExit:C,unmountOnExit:X,timeout:h?f:0},function(o){return t.createElement(K,{container:b,portal:T},t.createElement(le.Provider,{value:_},t.createElement("div",v({className:g("modal",{"modal-static":F,fade:h,show:o==="entered"},u),tabIndex:-1},s?{"aria-modal":!0,role:"dialog"}:{"aria-hidden":"true"},{style:v({},o!=="exited"&&{display:"block"})},Y,{ref:$}),t.createElement(x,{alignment:d,fullscreen:G,scrollable:U,size:W},t.createElement(k,{ref:Z},r)))))}),c&&t.createElement(K,{container:b,portal:T},t.createElement(oe,{visible:s})))});Q.propTypes={alignment:n.oneOf(["top","center"]),backdrop:n.oneOfType([n.bool,n.oneOf(["static"])]),children:n.node,className:n.string,container:n.any,duration:n.number,focus:n.bool,fullscreen:n.oneOfType([n.bool,n.oneOf(["sm","md","lg","xl","xxl"])]),keyboard:n.bool,onClose:n.func,onClosePrevented:n.func,onShow:n.func,portal:n.bool,scrollable:n.bool,size:n.oneOf(["sm","lg","xl"]),transition:n.bool,unmountOnClose:n.bool,visible:n.bool};Q.displayName="CModal";var q=l.forwardRef(function(e,i){var r=e.children,d=e.className,a=y(e,["children","className"]);return t.createElement("div",v({className:g("modal-footer",d)},a,{ref:i}),r)});q.propTypes={children:n.node,className:n.string};q.displayName="CModalFooter";export{Q as C,q as a,le as b};
